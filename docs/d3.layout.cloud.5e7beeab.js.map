{"version":3,"sources":["../node_modules/canvas/lib/parse-font.js","../node_modules/canvas/browser.js","d3.layout.cloud.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["weights","styles","variants","stretches","units","string","weightRe","RegExp","styleRe","variantRe","stretchRe","sizeFamilyRe","cache","defaultHeight","module","exports","str","sizeFamily","exec","font","weight","style","stretch","variant","size","parseFloat","unit","family","replace","substr","substring","index","parseFont","require","createCanvas","width","height","Object","assign","document","createElement","createImageData","array","arguments","length","ImageData","loadImage","src","options","Promise","resolve","reject","image","cleanup","onload","onerror","Error","cloud","text","cloudText","cloudFont","fontSize","cloudFontSize","fontStyle","cloudFontNormal","fontWeight","rotate","cloudRotate","padding","cloudPadding","spiral","archimedeanSpiral","words","timeInterval","Infinity","event","d3","dispatch","timer","start","board","zeroArray","bounds","n","i","tags","data","map","d","call","sort","a","b","clearInterval","setInterval","step","Date","x","Math","random","y","cloudSprite","hasText","place","push","word","cloudBounds","x0","y0","x1","y1","stop","end","tag","perimeter","startX","startY","maxDelta","sqrt","s","dt","t","dxdy","dx","dy","min","cloudCollide","collideRects","sprite","w","sw","lx","sx","msx","h","last","j","functor","spirals","rebind","value","di","c","clearRect","cw","ratio","ch","maxh","save","measureText","sr","sin","cloudRadians","cr","cos","wcr","wsr","hcr","hsr","max","abs","translate","fillText","lineWidth","strokeText","restore","xoff","yoff","pixels","getImageData","w32","seen","seenRow","k","m","slice","b0","b1","e","rectangularSpiral","sign","PI","canvas","getContext","Canvas","archimedean","rectangular","fillStyle","strokeStyle","textAlign","layout","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Array","isArray","concat","Function","deps","cached","some","cb"],"mappings":"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","file":"d3.layout.cloud.5e7beeab.js","sourceRoot":"../src","sourcesContent":["'use strict'\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00'\n  , styles = 'italic|oblique'\n  , variants = 'small-caps'\n  , stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded'\n  , units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q'\n  , string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'\n\n// [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp('(' + weights + ') +', 'i')\nconst styleRe = new RegExp('(' + styles + ') +', 'i')\nconst variantRe = new RegExp('(' + variants + ') +', 'i')\nconst stretchRe = new RegExp('(' + stretches + ') +', 'i')\nconst sizeFamilyRe = new RegExp(\n  '([\\\\d\\\\.]+)(' + units + ') *'\n  + '((?:' + string + ')( *, *(?:' + string + '))*)')\n\n/**\n * Cache font parsing.\n */\n\nconst cache = {}\n\nconst defaultHeight = 16 // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = function (str) {\n  // Cached\n  if (cache[str]) return cache[str]\n\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str)\n  if (!sizeFamily) return // invalid\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }\n\n  // Optional, unordered properties.\n  let weight, style, variant, stretch\n  // Stop search at `sizeFamily.index`\n  let substr = str.substring(0, sizeFamily.index)\n  if ((weight = weightRe.exec(substr))) font.weight = weight[1]\n  if ((style = styleRe.exec(substr))) font.style = style[1]\n  if ((variant = variantRe.exec(substr))) font.variant = variant[1]\n  if ((stretch = stretchRe.exec(substr))) font.stretch = stretch[1]\n\n  // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75\n      break\n    case 'pc':\n      font.size *= 16\n      break\n    case 'in':\n      font.size *= 96\n      break\n    case 'cm':\n      font.size *= 96.0 / 2.54\n      break\n    case 'mm':\n      font.size *= 96.0 / 25.4\n      break\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75\n      break\n    case 'q':\n      font.size *= 96 / 25.4 / 4\n      break\n  }\n\n  return (cache[str] = font)\n}\n","/* globals document, ImageData */\n\nconst parseFont = require('./lib/parse-font')\n\nexports.parseFont = parseFont\n\nexports.createCanvas = function (width, height) {\n  return Object.assign(document.createElement('canvas'), { width: width, height: height })\n}\n\nexports.createImageData = function (array, width, height) {\n  // Browser implementation of ImageData looks at the number of arguments passed\n  switch (arguments.length) {\n    case 0: return new ImageData()\n    case 1: return new ImageData(array)\n    case 2: return new ImageData(array, width)\n    default: return new ImageData(array, width, height)\n  }\n}\n\nexports.loadImage = function (src, options) {\n  return new Promise(function (resolve, reject) {\n    const image = Object.assign(document.createElement('img'), options)\n\n    function cleanup () {\n      image.onload = null\n      image.onerror = null\n    }\n\n    image.onload = function () { cleanup(); resolve(image) }\n    image.onerror = function () { cleanup(); reject(new Error('Failed to load the image \"' + src + '\"')) }\n\n    image.src = src\n  })\n}\n","// Word cloud layout by Jason Davies, http://www.jasondavies.com/word-cloud/\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n(function(exports) {\n    function cloud() {\n        var size = [256, 256],\n            text = cloudText,\n            font = cloudFont,\n            fontSize = cloudFontSize,\n            fontStyle = cloudFontNormal,\n            fontWeight = cloudFontNormal,\n            rotate = cloudRotate,\n            padding = cloudPadding,\n            spiral = archimedeanSpiral,\n            words = [],\n            timeInterval = Infinity,\n            event = d3.dispatch(\"word\", \"end\"),\n            timer = null,\n            cloud = {};\n\n        cloud.start = function() {\n            var board = zeroArray((size[0] >> 5) * size[1]),\n                bounds = null,\n                n = words.length,\n                i = -1,\n                tags = [],\n                data = words.map(function(d, i) {\n                    d.text = text.call(this, d, i);\n                    d.font = font.call(this, d, i);\n                    d.style = fontStyle.call(this, d, i);\n                    d.weight = fontWeight.call(this, d, i);\n                    d.rotate = rotate.call(this, d, i);\n                    d.size = ~~fontSize.call(this, d, i);\n                    d.padding = padding.call(this, d, i);\n                    return d;\n                }).sort(function(a, b) { return b.size - a.size; });\n\n            if (timer) clearInterval(timer);\n            timer = setInterval(step, 0);\n            step();\n\n            return cloud;\n\n            function step() {\n                var start = +new Date,\n                    d;\n                while (+new Date - start < timeInterval && ++i < n && timer) {\n                    d = data[i];\n                    d.x = (size[0] * (Math.random() + .5)) >> 1;\n                    d.y = (size[1] * (Math.random() + .5)) >> 1;\n                    cloudSprite(d, data, i);\n                    if (d.hasText && place(board, d, bounds)) {\n                        tags.push(d);\n                        event.word(d);\n                        if (bounds) cloudBounds(bounds, d);\n                        else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n                        // Temporary hack\n                        d.x -= size[0] >> 1;\n                        d.y -= size[1] >> 1;\n                    }\n                }\n                if (i >= n) {\n                    cloud.stop();\n                    event.end(tags, bounds);\n                }\n            }\n        }\n\n        cloud.stop = function() {\n            if (timer) {\n                clearInterval(timer);\n                timer = null;\n            }\n            return cloud;\n        };\n\n        cloud.timeInterval = function(x) {\n            if (!arguments.length) return timeInterval;\n            timeInterval = x == null ? Infinity : x;\n            return cloud;\n        };\n\n        function place(board, tag, bounds) {\n            var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\n                startX = tag.x,\n                startY = tag.y,\n                maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n                s = spiral(size),\n                dt = Math.random() < .5 ? 1 : -1,\n                t = -dt,\n                dxdy,\n                dx,\n                dy;\n\n            while (dxdy = s(t += dt)) {\n                dx = ~~dxdy[0];\n                dy = ~~dxdy[1];\n\n                if (Math.min(dx, dy) > maxDelta) break;\n\n                tag.x = startX + dx;\n                tag.y = startY + dy;\n\n                if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n                    tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n                // TODO only check for collisions within current bounds.\n                if (!bounds || !cloudCollide(tag, board, size[0])) {\n                    if (!bounds || collideRects(tag, bounds)) {\n                        var sprite = tag.sprite,\n                            w = tag.width >> 5,\n                            sw = size[0] >> 5,\n                            lx = tag.x - (w << 4),\n                            sx = lx & 0x7f,\n                            msx = 32 - sx,\n                            h = tag.y1 - tag.y0,\n                            x = (tag.y + tag.y0) * sw + (lx >> 5),\n                            last;\n                        for (var j = 0; j < h; j++) {\n                            last = 0;\n                            for (var i = 0; i <= w; i++) {\n                                board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n                            }\n                            x += sw;\n                        }\n                        delete tag.sprite;\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        cloud.words = function(x) {\n            if (!arguments.length) return words;\n            words = x;\n            return cloud;\n        };\n\n        cloud.size = function(x) {\n            if (!arguments.length) return size;\n            size = [+x[0], +x[1]];\n            return cloud;\n        };\n\n        cloud.font = function(x) {\n            if (!arguments.length) return font;\n            font = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.fontStyle = function(x) {\n            if (!arguments.length) return fontStyle;\n            fontStyle = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.fontWeight = function(x) {\n            if (!arguments.length) return fontWeight;\n            fontWeight = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.rotate = function(x) {\n            if (!arguments.length) return rotate;\n            rotate = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.text = function(x) {\n            if (!arguments.length) return text;\n            text = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.spiral = function(x) {\n            if (!arguments.length) return spiral;\n            spiral = spirals[x + \"\"] || x;\n            return cloud;\n        };\n\n        cloud.fontSize = function(x) {\n            if (!arguments.length) return fontSize;\n            fontSize = d3.functor(x);\n            return cloud;\n        };\n\n        cloud.padding = function(x) {\n            if (!arguments.length) return padding;\n            padding = d3.functor(x);\n            return cloud;\n        };\n\n        return d3.rebind(cloud, event, \"on\");\n    }\n\n    function cloudText(d) {\n        return d.text;\n    }\n\n    function cloudFont() {\n        return \"serif\";\n    }\n\n    function cloudFontNormal() {\n        return \"normal\";\n    }\n\n    function cloudFontSize(d) {\n        return Math.sqrt(d.value);\n    }\n\n    function cloudRotate() {\n        return (~~(Math.random() * 6) - 3) * 30;\n    }\n\n    function cloudPadding() {\n        return 1;\n    }\n\n    // Fetches a monochrome sprite bitmap for the specified text.\n    // Load in batches for speed.\n    function cloudSprite(d, data, di) {\n        if (d.sprite) return;\n        c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n        var x = 0,\n            y = 0,\n            maxh = 0,\n            n = data.length;\n        --di;\n        while (++di < n) {\n            d = data[di];\n            c.save();\n            c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n            var w = c.measureText(d.text + \"m\").width * ratio,\n                h = d.size << 1;\n            if (d.rotate) {\n                var sr = Math.sin(d.rotate * cloudRadians),\n                    cr = Math.cos(d.rotate * cloudRadians),\n                    wcr = w * cr,\n                    wsr = w * sr,\n                    hcr = h * cr,\n                    hsr = h * sr;\n                w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n                h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n            } else {\n                w = (w + 0x1f) >> 5 << 5;\n            }\n            if (h > maxh) maxh = h;\n            if (x + w >= (cw << 5)) {\n                x = 0;\n                y += maxh;\n                maxh = 0;\n            }\n            if (y + h >= ch) break;\n            c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n            if (d.rotate) c.rotate(d.rotate * cloudRadians);\n            c.fillText(d.text, 0, 0);\n            if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, 0, 0);\n            c.restore();\n            d.width = w;\n            d.height = h;\n            d.xoff = x;\n            d.yoff = y;\n            d.x1 = w >> 1;\n            d.y1 = h >> 1;\n            d.x0 = -d.x1;\n            d.y0 = -d.y1;\n            d.hasText = true;\n            x += w;\n        }\n        var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n            sprite = [];\n        while (--di >= 0) {\n            d = data[di];\n            if (!d.hasText) continue;\n            var w = d.width,\n                w32 = w >> 5,\n                h = d.y1 - d.y0;\n            // Zero the buffer\n            for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n            x = d.xoff;\n            if (x == null) return;\n            y = d.yoff;\n            var seen = 0,\n                seenRow = -1;\n            for (var j = 0; j < h; j++) {\n                for (var i = 0; i < w; i++) {\n                    var k = w32 * j + (i >> 5),\n                        m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n                    sprite[k] |= m;\n                    seen |= m;\n                }\n                if (seen) seenRow = j;\n                else {\n                    d.y0++;\n                    h--;\n                    j--;\n                    y++;\n                }\n            }\n            d.y1 = d.y0 + seenRow;\n            d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n        }\n    }\n\n    // Use mask-based collision detection.\n    function cloudCollide(tag, board, sw) {\n        sw >>= 5;\n        var sprite = tag.sprite,\n            w = tag.width >> 5,\n            lx = tag.x - (w << 4),\n            sx = lx & 0x7f,\n            msx = 32 - sx,\n            h = tag.y1 - tag.y0,\n            x = (tag.y + tag.y0) * sw + (lx >> 5),\n            last;\n        for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n                if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n                    & board[x + i]) return true;\n            }\n            x += sw;\n        }\n        return false;\n    }\n\n    function cloudBounds(bounds, d) {\n        var b0 = bounds[0],\n            b1 = bounds[1];\n        if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n        if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n        if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n        if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n    }\n\n    function collideRects(a, b) {\n        return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n    }\n\n    function archimedeanSpiral(size) {\n        var e = size[0] / size[1];\n        return function(t) {\n            return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n        };\n    }\n\n    function rectangularSpiral(size) {\n        var dy = 4,\n            dx = dy * size[0] / size[1],\n            x = 0,\n            y = 0;\n        return function(t) {\n            var sign = t < 0 ? -1 : 1;\n            // See triangular numbers: T_n = n * (n + 1) / 2.\n            switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n                case 0:  x += dx; break;\n                case 1:  y += dy; break;\n                case 2:  x -= dx; break;\n                default: y -= dy; break;\n            }\n            return [x, y];\n        };\n    }\n\n    // TODO reuse arrays?\n    function zeroArray(n) {\n        var a = [],\n            i = -1;\n        while (++i < n) a[i] = 0;\n        return a;\n    }\n\n    var cloudRadians = Math.PI / 180,\n        cw = 1 << 11 >> 5,\n        ch = 1 << 11,\n        canvas,\n        ratio = 1;\n\n    if (typeof document !== \"undefined\") {\n        canvas = document.createElement(\"canvas\");\n        canvas.width = 1;\n        canvas.height = 1;\n        ratio = Math.sqrt(canvas.getContext(\"2d\").getImageData(0, 0, 1, 1).data.length >> 2);\n        canvas.width = (cw << 5) / ratio;\n        canvas.height = ch / ratio;\n    } else {\n        // node-canvas support\n        var Canvas = require(\"canvas\");\n        canvas = new Canvas(cw << 5, ch);\n    }\n\n    var c = canvas.getContext(\"2d\"),\n        spirals = {\n            archimedean: archimedeanSpiral,\n            rectangular: rectangularSpiral\n        };\n    c.fillStyle = c.strokeStyle = \"red\";\n    c.textAlign = \"center\";\n\n    exports.cloud = cloud;\n})(typeof exports === \"undefined\" ? d3.layout || (d3.layout = {}) : exports);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}